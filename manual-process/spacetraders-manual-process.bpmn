<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Web Modeler" exporterVersion="aa90d44" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.3.0" camunda:diagramRelationId="7a31f36e-7202-4e5c-87dc-ce5230e1e187">
  <bpmn:process id="space-traders-manual-process" name="SpaceTraders - Manual process" isExecutable="true">
    <bpmn:extensionElements>
      <zeebe:userTaskForm id="userTaskForm_2is8fom">{
  "executionPlatform": "Camunda Cloud",
  "executionPlatformVersion": "8.3.0",
  "exporter": {
    "name": "Camunda Web Modeler",
    "version": "93d428d"
  },
  "schemaVersion": 13,
  "components": [
    {
      "text": "# SpaceTraders - Start",
      "label": "Text view",
      "type": "text",
      "layout": {
        "row": "Row_1n46dso",
        "columns": null
      },
      "id": "Field_0kpjceg"
    },
    {
      "values": [
        {
          "label": "Continue game",
          "value": "continue-game"
        },
        {
          "label": "New game",
          "value": "new-game"
        }
      ],
      "label": "Choose to continue or start a new game",
      "type": "select",
      "layout": {
        "row": "Row_1qo20qt",
        "columns": null
      },
      "id": "Field_18giz7y",
      "key": "operation",
      "defaultValue": "continue-game"
    },
    {
      "components": [
        {
          "text": "Continue a previous game by entering your game token. The token is created when starting a new game.",
          "label": "Text view",
          "type": "text",
          "layout": {
            "row": "Row_10l6cvf",
            "columns": null
          },
          "id": "Field_07n6yd3"
        },
        {
          "label": "Token",
          "type": "textarea",
          "layout": {
            "row": "Row_101m968",
            "columns": null
          },
          "id": "Field_0z12abc",
          "key": "token",
          "description": "Your game token.",
          "validate": {
            "required": true
          }
        }
      ],
      "showOutline": true,
      "label": "Continue game",
      "type": "group",
      "layout": {
        "row": "Row_110t03v",
        "columns": null
      },
      "id": "Field_1jhe7vt",
      "conditional": {
        "hide": "=operation != \"continue-game\""
      }
    },
    {
      "components": [
        {
          "text": "Start a new game by registering an agent. The agent is your alias in the game. ",
          "label": "Text view",
          "type": "text",
          "layout": {
            "row": "Row_0krv11g",
            "columns": null
          },
          "id": "Field_1elsltt"
        },
        {
          "label": "Agent symbol",
          "type": "textfield",
          "layout": {
            "row": "Row_0kyq2zb",
            "columns": null
          },
          "id": "Field_1i29y1m",
          "key": "agent_name",
          "description": "Your player alias. Must be unique. ",
          "validate": {
            "required": true,
            "minLength": 3,
            "maxLength": 14
          }
        }
      ],
      "showOutline": true,
      "label": "New game",
      "type": "group",
      "layout": {
        "row": "Row_1arcorm",
        "columns": null
      },
      "id": "Field_0gpakx3",
      "conditional": {
        "hide": "=operation != \"new-game\""
      }
    }
  ],
  "type": "default",
  "id": "space-traders-start"
}</zeebe:userTaskForm>
      <zeebe:userTaskForm id="UserTaskForm_3f2t518">{
  "executionPlatform": "Camunda Cloud",
  "executionPlatformVersion": "8.3.0",
  "exporter": {
    "name": "Camunda Web Modeler",
    "version": "93d428d"
  },
  "schemaVersion": 13,
  "components": [
    {
      "text": "# SpaceTraders - List contracts\n\nView available contracts and accept a contract to start fulfilling it. \n",
      "label": "Text view",
      "type": "text",
      "layout": {
        "row": "Row_14dxlx3",
        "columns": null
      },
      "id": "Field_01trw1p"
    },
    {
      "components": [
        {
          "text": "{{#loop contracts[not(accepted)]}}\n\nId: *{{this.id}}*\nFaction: *{{this.factionSymbol}}*\nType: *{{this.type}}*\nDeadline: *{{this.terms.deadline}}*\n&lt;br/&gt;\n\nPayment on accept: *{{this.terms.payment.onAccepted}}*\nPayment on fulfilled: *{{this.terms.payment.onFulfilled}}*\n&lt;br/&gt;\n\n**To deliver**\n\n{{#loop this.terms.deliver}}\nTrage good: *{{this.tradeSymbol}}*\nUnits: *{{this.unitsRequired}}*\nDestination: *{{this.destinationSymbol}}*\n&lt;br/&gt;\n{{/loop}}\n\n---\n\n{{/loop}}",
          "label": "Text view",
          "type": "text",
          "layout": {
            "row": "Row_1p6exv8",
            "columns": null
          },
          "id": "Field_1mtgpbj"
        }
      ],
      "showOutline": true,
      "label": "Contracts",
      "type": "group",
      "layout": {
        "row": "Row_05uoyxt",
        "columns": null
      },
      "id": "Field_07reltk"
    },
    {
      "label": "Select a contract",
      "type": "select",
      "layout": {
        "row": "Row_1ov4s9h",
        "columns": null
      },
      "id": "Field_1dpfffa",
      "key": "selected_contract",
      "searchable": false,
      "valuesExpression": "=contracts.id"
    },
    {
      "label": "Accept contract",
      "type": "checkbox",
      "layout": {
        "row": "Row_131vlc5",
        "columns": null
      },
      "id": "Field_1wjeyhs",
      "key": "accept_contract",
      "conditional": {
        "hide": "=selected_contract = null"
      }
    }
  ],
  "type": "default",
  "id": "space-traders-list-contracts"
}</zeebe:userTaskForm>
      <zeebe:userTaskForm id="UserTaskForm_0nah045">{
  "executionPlatform": "Camunda Cloud",
  "executionPlatformVersion": "8.3.0",
  "exporter": {
    "name": "Camunda Web Modeler",
    "version": "bc7ac35"
  },
  "schemaVersion": 13,
  "components": [
    {
      "text": "# SpaceTraders - List waypoints\n\nSee the available waypoints based on the filter. The list includes waypoints where a ship is located.\n",
      "label": "Text view",
      "type": "text",
      "layout": {
        "row": "Row_1xlv08m",
        "columns": null
      },
      "id": "Field_0l7k1yu"
    },
    {
      "components": [
        {
          "text": "{{#loop waypoints}}\n\nSymbol: *{{this.waypoint.symbol}}*\nType: *{{this.waypoint.type}}*\nDistance: *{{this.waypoint.distance}}*\nTraits: \n{{#loop this.waypoint.traits}}\n- *{{this}}*\n{{/loop}}\n\nShips: \n{{#loop this.ships}} \n- *{{this.symbol}}* (*{{this.type}}*)\n{{/loop}}\n\n---\n\n{{/loop}}",
          "label": "Text view",
          "type": "text",
          "layout": {
            "row": "Row_0a4qa2q",
            "columns": null
          },
          "id": "Field_0n7ai20"
        }
      ],
      "showOutline": true,
      "label": "Waypoints",
      "type": "group",
      "layout": {
        "row": "Row_1ydnuwv",
        "columns": null
      },
      "id": "Field_1b6g5n5"
    }
  ],
  "type": "default",
  "id": "space-traders-list-waypoints"
}</zeebe:userTaskForm>
    </bpmn:extensionElements>
    <bpmn:startEvent id="StartEvent_1" name="Start game">
      <bpmn:extensionElements>
        <zeebe:formDefinition formKey="camunda-forms:bpmn:userTaskForm_2is8fom" />
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_0duixn2</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:exclusiveGateway id="Gateway_0fwpgw6" name="New game?" default="Flow_1dejhzn">
      <bpmn:incoming>Flow_0duixn2</bpmn:incoming>
      <bpmn:outgoing>Flow_08qnenf</bpmn:outgoing>
      <bpmn:outgoing>Flow_1dejhzn</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0duixn2" sourceRef="StartEvent_1" targetRef="Gateway_0fwpgw6" />
    <bpmn:sequenceFlow id="Flow_08qnenf" name="Yes" sourceRef="Gateway_0fwpgw6" targetRef="Activity_0t3yckb">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=operation = "new-game"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1ftjo04">
      <bpmn:incoming>Flow_0y2t95m</bpmn:incoming>
      <bpmn:incoming>Flow_1dejhzn</bpmn:incoming>
      <bpmn:outgoing>Flow_09l41ji</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0y2t95m" sourceRef="Activity_0t3yckb" targetRef="Gateway_1ftjo04" />
    <bpmn:sequenceFlow id="Flow_09l41ji" sourceRef="Gateway_1ftjo04" targetRef="Activity_01ca0n6" />
    <bpmn:callActivity id="Activity_01ca0n6" name="Collect data">
      <bpmn:extensionElements>
        <zeebe:calledElement processId="space-traders-collect-data" propagateAllChildVariables="false" />
        <zeebe:ioMapping>
          <zeebe:output source="=status" target="status" />
          <zeebe:output source="=serverResets" target="serverResets" />
          <zeebe:output source="=agent" target="agent" />
          <zeebe:output source="=ships" target="ships" />
          <zeebe:output source="=contracts" target="contracts" />
          <zeebe:output source="=contracts[accepted and not(fulfilled)][1]" target="active_contract" />
          <zeebe:output source="=ships[1].nav.systemSymbol" target="current_system" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_09l41ji</bpmn:incoming>
      <bpmn:incoming>Flow_13dar2l</bpmn:incoming>
      <bpmn:outgoing>Flow_1n0faxx</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_1n0faxx" sourceRef="Activity_01ca0n6" targetRef="Activity_17syx4t" />
    <bpmn:userTask id="Activity_17syx4t" name="Control center">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=null" target="action" />
          <zeebe:input source="=false" target="show_token" />
          <zeebe:input source="=for a_ship in ships return {&#10;  symbol: a_ship.symbol,&#10;  registration: {&#10;    role: a_ship.registration.role&#10;  },&#10;  nav: {&#10;    waypointSymbol: a_ship.nav.waypointSymbol,&#10;    status: a_ship.nav.status&#10;  },&#10;  fuel: {&#10;    current: a_ship.fuel.current,&#10;    capacity: a_ship.fuel.capacity&#10;  },&#10;  cargo: {&#10;    units: a_ship.cargo.units,&#10;    capacity: a_ship.cargo.capacity,&#10;    inventory: for inventory in a_ship.cargo.inventory return {&#10;      symbol: inventory.symbol,&#10;      units: inventory.units&#10;    }&#10;  }&#10;}" target="ships" />
          <zeebe:input source="=null" target="selected_ship" />
          <zeebe:input source="=&#34;&#34;" target="target_waypoint" />
          <zeebe:output source="=action" target="action" />
          <zeebe:output source="=list_waypoints_filter_traits" target="list_waypoints_filter_traits" />
          <zeebe:output source="=list_waypoints_filter_type" target="list_waypoints_filter_type" />
          <zeebe:output source="=selected_ship" target="selected_ship" />
          <zeebe:output source="=target_waypoint" target="target_waypoint" />
        </zeebe:ioMapping>
        <zeebe:formDefinition formId="space-traders-select-action" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1n0faxx</bpmn:incoming>
      <bpmn:outgoing>Flow_0lwwwm5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1dejhzn" name="No" sourceRef="Gateway_0fwpgw6" targetRef="Gateway_1ftjo04" />
    <bpmn:intermediateCatchEvent id="Event_0x6pre2" name="To control center">
      <bpmn:outgoing>Flow_13dar2l</bpmn:outgoing>
      <bpmn:linkEventDefinition id="LinkEventDefinition_1kyfsxd" name="to-control-center" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_13dar2l" sourceRef="Event_0x6pre2" targetRef="Activity_01ca0n6" />
    <bpmn:exclusiveGateway id="Gateway_072vi0y" name="Action?" default="Flow_0ppafdq">
      <bpmn:incoming>Flow_0lwwwm5</bpmn:incoming>
      <bpmn:outgoing>Flow_0ppafdq</bpmn:outgoing>
      <bpmn:outgoing>Flow_0izcf74</bpmn:outgoing>
      <bpmn:outgoing>Flow_19fa0md</bpmn:outgoing>
      <bpmn:outgoing>Flow_1bgi9br</bpmn:outgoing>
      <bpmn:outgoing>Flow_1vvaa7w</bpmn:outgoing>
      <bpmn:outgoing>Flow_0z5ll9l</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0lwwwm5" sourceRef="Activity_17syx4t" targetRef="Gateway_072vi0y" />
    <bpmn:sequenceFlow id="Flow_0ppafdq" name="Reload" sourceRef="Gateway_072vi0y" targetRef="Event_04901mf" />
    <bpmn:intermediateThrowEvent id="Event_04901mf" name="To control center">
      <bpmn:incoming>Flow_0ppafdq</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_0m4mjjh" name="to-control-center" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_0izcf74" name="List contracts" sourceRef="Gateway_072vi0y" targetRef="Activity_1wbkqrd">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=action = "list-contracts"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_01uumfe" sourceRef="Activity_1wbkqrd" targetRef="Activity_11p7lac" />
    <bpmn:userTask id="Activity_11p7lac" name="Select contract">
      <bpmn:extensionElements>
        <zeebe:formDefinition formKey="camunda-forms:bpmn:UserTaskForm_3f2t518" />
        <zeebe:ioMapping>
          <zeebe:input source="=null" target="selected_contract" />
          <zeebe:output source="=if selected_contract = &#34;null&#34;&#10;then null&#10;else selected_contract" target="selected_contract" />
          <zeebe:output source="=accept_contract" target="accept_contract" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_01uumfe</bpmn:incoming>
      <bpmn:outgoing>Flow_1ipqg2i</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_1gt3oyh" name="Accept contract?" default="Flow_11qz4m5">
      <bpmn:incoming>Flow_1ipqg2i</bpmn:incoming>
      <bpmn:outgoing>Flow_15zoeyh</bpmn:outgoing>
      <bpmn:outgoing>Flow_11qz4m5</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1ipqg2i" sourceRef="Activity_11p7lac" targetRef="Gateway_1gt3oyh" />
    <bpmn:sequenceFlow id="Flow_15zoeyh" name="Yes" sourceRef="Gateway_1gt3oyh" targetRef="Activity_186utsd">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=selected_contract != null and accept_contract = true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_0qq2qhy">
      <bpmn:incoming>Flow_0ji2dvi</bpmn:incoming>
      <bpmn:incoming>Flow_11qz4m5</bpmn:incoming>
      <bpmn:outgoing>Flow_1ob7h1c</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0ji2dvi" sourceRef="Activity_186utsd" targetRef="Gateway_0qq2qhy" />
    <bpmn:sequenceFlow id="Flow_1ob7h1c" sourceRef="Gateway_0qq2qhy" targetRef="Event_0kg68mo" />
    <bpmn:intermediateThrowEvent id="Event_0kg68mo" name="To control center">
      <bpmn:incoming>Flow_1ob7h1c</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_19zqk0q" name="to-control-center" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_11qz4m5" name="No" sourceRef="Gateway_1gt3oyh" targetRef="Gateway_0qq2qhy" />
    <bpmn:sequenceFlow id="Flow_19fa0md" name="List waypoints" sourceRef="Gateway_072vi0y" targetRef="Activity_1rpi4qn">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=action = "list-waypoints"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1s2ar3d" sourceRef="Activity_00bqf00" targetRef="Activity_07ddhuo" />
    <bpmn:intermediateThrowEvent id="Event_1890vku" name="To control center">
      <bpmn:incoming>Flow_1cgbtgr</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_1k0iwiu" name="to-control-center" />
    </bpmn:intermediateThrowEvent>
    <bpmn:userTask id="Activity_01xfyud" name="Show waypoints">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="={&#10;  all_waypoints: concatenate(flatten(waypoints_list), ship_waypoints),&#10;  distinct_waypoints: (for waypoint in all_waypoints return &#10;    if list contains(partial.symbol, waypoint.symbol) &#10;    then null &#10;    else waypoint)[item != null],&#10;  waypoints_and_ships: for waypoint in distinct_waypoints return &#10;  {&#10;    waypoint: {&#10;      symbol: waypoint.symbol,&#10;      type: waypoint.type,&#10;      traits: waypoint.traits.symbol,&#10;      distance: decimal(sqrt(waypoint.x**2 + waypoint.y**2), 1)    &#10;    },&#10;    ships: for ship in ships[nav.waypointSymbol = waypoint.symbol] return &#10;    {&#10;      symbol: ship.symbol,&#10;      type: ship.registration.role&#10;    }&#10;  },    &#10;  sorted_waypoints: sort(waypoints_and_ships, function (x,y) x.waypoint.distance &#60; y.waypoint.distance),&#10;  result: sublist(sorted_waypoints, 1, 50)  &#10;}.result" target="waypoints" />
        </zeebe:ioMapping>
        <zeebe:formDefinition formKey="camunda-forms:bpmn:UserTaskForm_0nah045" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0v38my7</bpmn:incoming>
    </bpmn:userTask>
    <bpmn:subProcess id="Activity_1rpi4qn" name="For each trait and type">
      <bpmn:incoming>Flow_19fa0md</bpmn:incoming>
      <bpmn:outgoing>Flow_17jrfyz</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:extensionElements>
          <zeebe:loopCharacteristics inputCollection="=if list_waypoints_filter_traits != [] &#10;then list_waypoints_filter_traits&#10;else [null]" inputElement="waypoint_trait" outputCollection="waypoints_list" outputElement="=waypoints_list_by_type" />
        </bpmn:extensionElements>
      </bpmn:multiInstanceLoopCharacteristics>
      <bpmn:startEvent id="Event_1gimx9o">
        <bpmn:outgoing>Flow_12czeed</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:callActivity id="Activity_0cu0w4n" name="List waypoints">
        <bpmn:extensionElements>
          <zeebe:calledElement processId="space-traders-list-waypoints" propagateAllChildVariables="false" />
          <zeebe:ioMapping>
            <zeebe:input source="=current_system" target="system" />
            <zeebe:input source="=waypoint_trait" target="trait" />
            <zeebe:input source="=waypoint_type" target="type" />
            <zeebe:output source="=waypoints" target="waypoints_by_type" />
          </zeebe:ioMapping>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_12czeed</bpmn:incoming>
        <bpmn:outgoing>Flow_1r1sg42</bpmn:outgoing>
        <bpmn:multiInstanceLoopCharacteristics isSequential="true">
          <bpmn:extensionElements>
            <zeebe:loopCharacteristics inputCollection="=if list_waypoints_filter_type != [] &#10;then list_waypoints_filter_type&#10;else [null]" inputElement="waypoint_type" outputCollection="waypoints_list_by_type" outputElement="=waypoints_by_type" />
          </bpmn:extensionElements>
        </bpmn:multiInstanceLoopCharacteristics>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_12czeed" sourceRef="Event_1gimx9o" targetRef="Activity_0cu0w4n" />
      <bpmn:endEvent id="Event_1yromdq">
        <bpmn:incoming>Flow_1r1sg42</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1r1sg42" sourceRef="Activity_0cu0w4n" targetRef="Event_1yromdq" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_17jrfyz" sourceRef="Activity_1rpi4qn" targetRef="Activity_00bqf00" />
    <bpmn:sequenceFlow id="Flow_1bgi9br" name="Purchase a ship" sourceRef="Gateway_072vi0y" targetRef="Activity_0fc9ms3">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=action = "purchase-ship"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:callActivity id="Activity_0fc9ms3" name="List shipyards">
      <bpmn:extensionElements>
        <zeebe:calledElement processId="space-traders-list-waypoints" propagateAllChildVariables="false" />
        <zeebe:ioMapping>
          <zeebe:input source="=current_system" target="system" />
          <zeebe:input source="=&#34;SHIPYARD&#34;" target="trait" />
          <zeebe:input source="=null" target="type" />
          <zeebe:output source="=waypoints" target="shipyards" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1bgi9br</bpmn:incoming>
      <bpmn:outgoing>Flow_1poktqu</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_1poktqu" sourceRef="Activity_0fc9ms3" targetRef="Activity_0k6jizm" />
    <bpmn:sequenceFlow id="Flow_1mu2zm2" sourceRef="Activity_0k6jizm" targetRef="Activity_0zwegbp" />
    <bpmn:userTask id="Activity_0zwegbp" name="Show available ships">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:input source="=sort(flatten(flatten(available_ship_list)), function (x,y) x.ship_type &#60; y.ship_type)" target="available_ships" />
          <zeebe:input source="=null" target="selected_ship" />
          <zeebe:input source="=0" target="ship_amount" />
          <zeebe:output source="=if selected_ship = &#34;null&#34; &#10;then null &#10;else selected_ship" target="selected_ship" />
          <zeebe:output source="=ship_amount" target="ship_amount" />
        </zeebe:ioMapping>
        <zeebe:formDefinition formId="space-traders-purchase-ship" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1mu2zm2</bpmn:incoming>
      <bpmn:outgoing>Flow_0cjie5m</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_14mr1mo" name="Purchase a ship?" default="Flow_1581vz1">
      <bpmn:incoming>Flow_0cjie5m</bpmn:incoming>
      <bpmn:outgoing>Flow_19l8jfg</bpmn:outgoing>
      <bpmn:outgoing>Flow_1581vz1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0cjie5m" sourceRef="Activity_0zwegbp" targetRef="Gateway_14mr1mo" />
    <bpmn:sequenceFlow id="Flow_19l8jfg" name="Yes" sourceRef="Gateway_14mr1mo" targetRef="Activity_12hofmi">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=selected_ship != null and ship_amount &gt; 0</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_0tnhpt0">
      <bpmn:incoming>Flow_10mbx4n</bpmn:incoming>
      <bpmn:incoming>Flow_1581vz1</bpmn:incoming>
      <bpmn:outgoing>Flow_0ijgbjx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_10mbx4n" sourceRef="Activity_12hofmi" targetRef="Gateway_0tnhpt0" />
    <bpmn:intermediateThrowEvent id="Event_08bycqp" name="To control center">
      <bpmn:incoming>Flow_0ijgbjx</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_0fkgd1p" name="to-control-center" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_0ijgbjx" sourceRef="Gateway_0tnhpt0" targetRef="Event_08bycqp" />
    <bpmn:sequenceFlow id="Flow_1581vz1" name="No" sourceRef="Gateway_14mr1mo" targetRef="Gateway_0tnhpt0" />
    <bpmn:serviceTask id="Activity_0t3yckb" name="Register new agent" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFsElEQVRYR+2WW2wUVRzGf2d2t9vthd6AllZKAVvEUqAFBOItQYKQNEATAlFDgiYC8YFo8IE3UUNIfFAfUKzQGhKUYNHAgwgaCWnjBVEEAq0SoVxaKNKLpbftbnfGnHNmdme3LRaffGCSzVz2zPm+833f/39GtNYutoRhIIT9MwyQ184z+zzis+h7AsuywDKxTBMr4ayej/JM/A8ILHIp4IGElTtKIATC8Gil1BihlZJn5M+KqaBWK++1IlgR9V+iOpgmorV2kRWb1IgRSLBBg2nw6LUiIcHtQ4IouW07XLJLsDgbLJN4AsIF7sqEVkQMA1eKRMG1AupQJDSRuEyMkhHRWiMt0ACJQXOvOia5HOeASwViAmgOjhUOiZgVipSjhB1M0VqzUGUgHswBcUvukIydJZzGFxLW8UGJIcHCYZPm9gjtQ8lM9AeZmimzoK1QSskMtNQ8pjMwgr/D/XbCp4OnHYiXQCrd1h3hxOBUmjJmQUERmBGevXyYxanNdhBjFomWvZKATHi8ClpmTcy5vnPX5PebITrumphARoqHKRN9TMv14zWU+Hx7K4P6ySvw5uVHvSkKCBY0vM+M7N5h/UK07F2gFIgCRonEpG5sGWJ/Qy8XroekcnGHvM1IMXh9dQ5NgRL+LK/CSPKR13OZzqSJhPzpLLHuUHqxmoyAtsbdtETLnvmWU8+JklsIPvt+gLof+zFt4NTUAOHwEIbHIDgw6ASfJyvLCVWuR3g8eAd7WXnqLb4Mzmda1TrmXfyKGZEzMe9dVSJufDxPK2BXgluN/Q1B6k4NxC/ZvvN6PZDkJ2d6Ib2d3Uzf9CKBvFwVrpk/13IxbQ4ir4gNU3x46ncxaVwkoUR1DsSN6gpLd7l4v39pjrDjcF9Ucp/Pi0euOhhSFCqeWUjV5rX0evyc+eEc3cWl0b4Q6e/Hn5rCC/kG3Uf3UpraYsseX5pycnG9ulyH0OkDQhA2BVv29dHWnWC4vfoJZTNZsWEVl4eS6Gr/G++4dPw52YR7+0jPzqAwxWDpeINbxw8xU5zDUCU6Un+QBD6aqxVw+rowaPgjwnvHtL+jHTJIknjRc2vImjub5k8/Z+2W51lZkoUvFOLYgYOUehuZkG53R90cXErodi2u7Z5t94HY5mIiONEYoSDLQ362Qd1PIY6eC+uWI+yt12YWyMkid0oB216pJD83i8MNTRw59B0dV26weWmA5XOSFHC0RdtE9BZtIa59WBZVwFHC3Wol4JAJG6r76A8JMjPT6OrqUfA56YLMVIOucBobN63im0gmCyqKOf5uDVdPnWXTkmSWz/HpfcJZfdyuaSGufjBLZWA0cPm8Jwg7jgxyqU22H1TTqSxPoiTfQ+3JIO09Wtry7dtYV1HAmy9tJ9jRyWvL/Tz1iFfLPiIJSWBXqa2AQ0K32SFTcOkvmJxlqB6QHjDY/EmQzj6LVfN8LCvzcu6ayZ6Tg9FKeXrrRqzr16ivO66I7lzrZ8Yk2SJt70cgoQk4LV0GUV3HPjRu98DEdE3u6/MRMlMEj5d4GQjB1gNBbjuVYlnkL6zg1umzasWyTex72U+ydEAB61YdC6KdgSgBJ+5xW60GlgpeatOej0/TW3Ft/RBHz0eGFUlW9ji6Ou9S9pDgjdWO/5qEbsHxJRlTwD2VvctFP7dURqC7H6VAOAKNNy1qG0zl/+CQftldIa8u8/BEsati3MC2IuqdYQqMQEQF1PHJtQUHw/o76J2jES60wsPFk2m+0kphlsnONQYeNdb+UogGMV60exNwje3qh5vdgtJ8uNOjSzM/Uw840QS7T+ooBXzwdhUUZjsva/9HO8ZMQE7QO6j2LFKS4PZdSE+GFD988avg4Gl9v3WZxaOTRgdM/Oe+CChBrdiHsCxPSehqBxz+DdYvgpy0sYP/ewbGOJdU2P1hNsbXdKruGcL7mek/jn1A4IEC/wB+OnlF9mGuwgAAAABJRU5ErkJggg==">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=agent_name" target="objects.register_registerRequest.symbol" />
          <zeebe:input source="COSMIC" target="objects.register_registerRequest.faction" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/register&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
          <zeebe:input source="= objects.register_registerRequest" target="body" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="game" />
          <zeebe:header key="operation" value="register" />
          <zeebe:header key="resultExpression" value="={&#34;agent&#34;: response.body.data.agent, &#34;contract&#34;: response.body.data.contract, &#34;faction&#34;: response.body.data.faction, &#34;ship&#34;: response.body.data.ship, &#34;token&#34;: response.body.data.token}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_08qnenf</bpmn:incoming>
      <bpmn:outgoing>Flow_0y2t95m</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1wbkqrd" name="List contracts" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="1" target="objects.getContracts_page" />
          <zeebe:input source="10" target="objects.getContracts_limit" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="=token" target="authentication.token" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/my/contracts&#34;" target="url" />
          <zeebe:input source="={&#10; &#34;page&#34;: objects.getContracts_page,&#10; &#34;limit&#34;: objects.getContracts_limit&#10;}" target="queryParameters" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="contracts" />
          <zeebe:header key="operation" value="getContracts" />
          <zeebe:header key="resultExpression" value="={&#34;contracts&#34;: response.body.data, &#10;&#34;meta&#34;: response.body.meta}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0izcf74</bpmn:incoming>
      <bpmn:outgoing>Flow_01uumfe</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_186utsd" name="Accept contract" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=selected_contract" target="objects.acceptContract_contractId" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="=token" target="authentication.token" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/my/contracts/&#34; + string(objects.acceptContract_contractId) + &#34;/accept&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="contracts" />
          <zeebe:header key="operation" value="acceptContract" />
          <zeebe:header key="resultExpression" value="={&#34;agent&#34;: response.body.data.agent, &#10;&#34;contract&#34;: response.body.data.contract}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_15zoeyh</bpmn:incoming>
      <bpmn:outgoing>Flow_0ji2dvi</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_00bqf00" name="List ships" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="1" target="objects.getMyShips_page" />
          <zeebe:input source="10" target="objects.getMyShips_limit" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="=token" target="authentication.token" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/my/ships&#34;" target="url" />
          <zeebe:input source="={&#10; &#34;page&#34;: objects.getMyShips_page,&#10; &#34;limit&#34;: objects.getMyShips_limit&#10;}" target="queryParameters" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="fleet" />
          <zeebe:header key="operation" value="getMyShips" />
          <zeebe:header key="resultExpression" value="={&#10; &#34;ships&#34;: response.body.data,&#10; &#34;meta&#34;: response.body.meta&#10;}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_17jrfyz</bpmn:incoming>
      <bpmn:outgoing>Flow_1s2ar3d</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_07ddhuo" name="List ship waypoints" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=ship.nav.systemSymbol" target="objects.getWaypoint_systemSymbol" />
          <zeebe:input source="=ship.nav.waypointSymbol" target="objects.getWaypoint_waypointSymbol" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="= token" target="authentication.token" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/systems/&#34; + string(objects.getWaypoint_systemSymbol) + &#34;/waypoints/&#34; + string(objects.getWaypoint_waypointSymbol) + &#34;&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="systems" />
          <zeebe:header key="operation" value="getWaypoint" />
          <zeebe:header key="resultExpression" value="={&#34;waypoint&#34;: response.body.data}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1s2ar3d</bpmn:incoming>
      <bpmn:outgoing>Flow_0o49pe1</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:extensionElements>
          <zeebe:loopCharacteristics inputCollection="=ships" inputElement="ship" outputCollection="ship_waypoints" outputElement="=waypoint" />
        </bpmn:extensionElements>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0k6jizm" name="List available ships" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=shipyard.systemSymbol" target="objects.getShipyard_systemSymbol" />
          <zeebe:input source="=shipyard.symbol" target="objects.getShipyard_waypointSymbol" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="= token" target="authentication.token" />
          <zeebe:input source="get" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/systems/&#34; + string(objects.getShipyard_systemSymbol) + &#34;/waypoints/&#34; + string(objects.getShipyard_waypointSymbol) + &#34;/shipyard&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="systems" />
          <zeebe:header key="operation" value="getShipyard" />
          <zeebe:header key="resultExpression" value="={ &#10;  &#34;available_ships&#34;: for ship_type in response.body.data.shipTypes.type return {&#10;    &#34;ship_type&#34;: ship_type,&#10;    &#34;shipyard&#34;: response.body.data.symbol,&#10;    &#34;ship&#34;: if response.body.data.ships != null &#10;      then response.body.data.ships[type = ship_type][1]&#10;      else null&#10;  }  &#10;}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1poktqu</bpmn:incoming>
      <bpmn:outgoing>Flow_1mu2zm2</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:extensionElements>
          <zeebe:loopCharacteristics inputCollection="=shipyards" inputElement="shipyard" outputCollection="available_ship_list" outputElement="=available_ships" />
        </bpmn:extensionElements>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_12hofmi" name="Purchase ship" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=selected_ship" target="objects.purchaseShip_purchaseShipRequest.shipType" />
          <zeebe:input source="=flatten(available_ship_list)[ship_type = selected_ship][1].shipyard" target="objects.purchaseShip_purchaseShipRequest.waypointSymbol" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="=token" target="authentication.token" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/my/ships&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
          <zeebe:input source="= objects.purchaseShip_purchaseShipRequest" target="body" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="fleet" />
          <zeebe:header key="operation" value="purchaseShip" />
          <zeebe:header key="resultExpression" value="={&#10; &#34;agent&#34;: response.body.data.agent,&#10; &#34;ship&#34;: response.body.data.ship,&#10; &#34;transaction&#34;: response.body.data.transaction&#10;}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_19l8jfg</bpmn:incoming>
      <bpmn:outgoing>Flow_10mbx4n</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:extensionElements>
          <zeebe:loopCharacteristics inputCollection="=for x in 1..ship_amount return x" outputCollection="purchased_ships" outputElement="=ship" />
        </bpmn:extensionElements>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1vvaa7w" name="Navigate a ship" sourceRef="Gateway_072vi0y" targetRef="Gateway_1yxwlor">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=action = "navigate-ship"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Activity_11abg7d" name="Navigate ship" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=selected_ship" target="objects.navigateShip_shipSymbol" />
          <zeebe:input source="=target_waypoint" target="objects.navigateShip_navigateShipRequest.waypointSymbol" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="=token" target="authentication.token" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/my/ships/&#34; + string(objects.navigateShip_shipSymbol) + &#34;/navigate&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
          <zeebe:input source="= objects.navigateShip_navigateShipRequest" target="body" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="fleet" />
          <zeebe:header key="operation" value="navigateShip" />
          <zeebe:header key="resultExpression" value="={&#10; &#34;fuel&#34;: response.body.data.fuel,&#10; &#34;nav&#34;: response.body.data.nav,&#10;    &#34;arrival_time&#34;: nav.route.arrival  &#10;}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1yrnobg</bpmn:incoming>
      <bpmn:outgoing>Flow_0qlkjjz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_046ikhu" name="Ship not in orbit" attachedToRef="Activity_11abg7d">
      <bpmn:outgoing>Flow_1rbrzk1</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1wu54jo" errorRef="Error_0sh41ww" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1rbrzk1" sourceRef="Event_046ikhu" targetRef="Activity_0h7elkt" />
    <bpmn:serviceTask id="Activity_0h7elkt" name="Orbit ship" zeebe:modelerTemplate="com.camunda.SpaceTradersApi" zeebe:modelerTemplateVersion="4" zeebe:modelerTemplateIcon="data:image/png;base64,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">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="10" />
        <zeebe:ioMapping>
          <zeebe:input source="placeholder" target="objects" />
          <zeebe:input source="=selected_ship" target="objects.orbitShip_shipSymbol" />
          <zeebe:input source="bearer" target="authentication.type" />
          <zeebe:input source="=token" target="authentication.token" />
          <zeebe:input source="post" target="method" />
          <zeebe:input source="=&#34;https://api.spacetraders.io/v2/my/ships/&#34; + string(objects.orbitShip_shipSymbol) + &#34;/orbit&#34;" target="url" />
          <zeebe:input source="={&#10;}" target="queryParameters" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="category" value="fleet" />
          <zeebe:header key="operation" value="orbitShip" />
          <zeebe:header key="resultExpression" value="={&#10; &#34;nav&#34;: response.body.data.nav&#10;}" />
          <zeebe:header key="errorExpression" value="=if error.code = &#34;400&#34; &#10;then {&#10;  error_code: extract(error.message, &#34;\d{4}&#34;)[1],&#10;  error_codes: &#10;  {&#10;    &#34;4000&#34;:&#34;cooldownConflictError&#34;,&#10;    &#34;4001&#34;:&#34;waypointNoAccessError&#34;,&#10;    &#34;4100&#34;:&#34;tokenEmptyError&#34;,&#10;    &#34;4101&#34;:&#34;tokenMissingSubjectError&#34;,&#10;    &#34;4102&#34;:&#34;tokenInvalidSubjectError&#34;,&#10;    &#34;4103&#34;:&#34;missingTokenRequestError&#34;,&#10;    &#34;4104&#34;:&#34;invalidTokenRequestError&#34;,&#10;    &#34;4105&#34;:&#34;invalidTokenSubjectError&#34;,&#10;    &#34;4106&#34;:&#34;accountNotExistsError&#34;,&#10;    &#34;4107&#34;:&#34;agentNotExistsError&#34;,&#10;    &#34;4108&#34;:&#34;accountHasNoAgentError&#34;,&#10;    &#34;4109&#34;:&#34;registerAgentExistsError&#34;,&#10;    &#34;4110&#34;:&#34;registerAgentSymbolReservedError&#34;,&#10;    &#34;4111&#34;:&#34;registerAgentConflictSymbolError&#34;,&#10;    &#34;4200&#34;:&#34;navigateInTransitError&#34;,&#10;    &#34;4201&#34;:&#34;navigateInvalidDestinationError&#34;,&#10;    &#34;4202&#34;:&#34;navigateOutsideSystemError&#34;,&#10;    &#34;4203&#34;:&#34;navigateInsufficientFuelError&#34;,&#10;    &#34;4204&#34;:&#34;navigateSameDestinationError&#34;,&#10;    &#34;4205&#34;:&#34;shipExtractInvalidWaypointError&#34;,&#10;    &#34;4206&#34;:&#34;shipExtractPermissionError&#34;,&#10;    &#34;4207&#34;:&#34;shipJumpNoSystemError&#34;,&#10;    &#34;4208&#34;:&#34;shipJumpSameSystemError&#34;,&#10;    &#34;4210&#34;:&#34;shipJumpMissingModuleError&#34;,&#10;    &#34;4211&#34;:&#34;shipJumpNoValidWaypointError&#34;,&#10;    &#34;4212&#34;:&#34;shipJumpMissingAntimatterError&#34;,&#10;    &#34;4214&#34;:&#34;shipInTransitError&#34;,&#10;    &#34;4215&#34;:&#34;shipMissingSensorArraysError&#34;,&#10;    &#34;4216&#34;:&#34;purchaseShipCreditsError&#34;,&#10;    &#34;4217&#34;:&#34;shipCargoExceedsLimitError&#34;,&#10;    &#34;4218&#34;:&#34;shipCargoMissingError&#34;,&#10;    &#34;4219&#34;:&#34;shipCargoUnitCountError&#34;,&#10;    &#34;4220&#34;:&#34;shipSurveyVerificationError&#34;,&#10;    &#34;4221&#34;:&#34;shipSurveyExpirationError&#34;,&#10;    &#34;4222&#34;:&#34;shipSurveyWaypointTypeError&#34;,&#10;    &#34;4223&#34;:&#34;shipSurveyOrbitError&#34;,&#10;    &#34;4224&#34;:&#34;shipSurveyExhaustedError&#34;,&#10;    &#34;4225&#34;:&#34;shipRefuelDockedError&#34;,&#10;    &#34;4226&#34;:&#34;shipRefuelInvalidWaypointError&#34;,&#10;    &#34;4227&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4228&#34;:&#34;shipCargoFullError&#34;,&#10;    &#34;4229&#34;:&#34;shipJumpFromGateToGateError&#34;,&#10;    &#34;4230&#34;:&#34;waypointChartedError&#34;,&#10;    &#34;4231&#34;:&#34;shipTransferShipNotFound&#34;,&#10;    &#34;4232&#34;:&#34;shipTransferAgentConflict&#34;,&#10;    &#34;4233&#34;:&#34;shipTransferSameShipConflict&#34;,&#10;    &#34;4234&#34;:&#34;shipTransferLocationConflict&#34;,&#10;    &#34;4235&#34;:&#34;warpInsideSystemError&#34;,&#10;    &#34;4236&#34;:&#34;shipNotInOrbitError&#34;,&#10;    &#34;4237&#34;:&#34;shipInvalidRefineryGoodError&#34;,&#10;    &#34;4238&#34;:&#34;shipInvalidRefineryTypeError&#34;,&#10;    &#34;4239&#34;:&#34;shipMissingRefineryError&#34;,&#10;    &#34;4240&#34;:&#34;shipMissingSurveyorError&#34;,&#10;    &#34;4241&#34;:&#34;shipMissingWarpDriveError&#34;,&#10;    &#34;4242&#34;:&#34;shipMissingMineralProcessorError&#34;,&#10;    &#34;4243&#34;:&#34;shipMissingMiningLasersError&#34;,&#10;    &#34;4244&#34;:&#34;shipNotDockedError&#34;,&#10;    &#34;4245&#34;:&#34;purchaseShipNotPresentError&#34;,&#10;    &#34;4246&#34;:&#34;shipMountNoShipyardError&#34;,&#10;    &#34;4247&#34;:&#34;shipMissingMountError&#34;,&#10;    &#34;4248&#34;:&#34;shipMountInsufficientCreditsError&#34;,&#10;    &#34;4249&#34;:&#34;shipMissingPowerError&#34;,&#10;    &#34;4250&#34;:&#34;shipMissingSlotsError&#34;,&#10;    &#34;4251&#34;:&#34;shipMissingMountsError&#34;,&#10;    &#34;4252&#34;:&#34;shipMissingCrewError&#34;,&#10;    &#34;4253&#34;:&#34;shipExtractDestabilizedError&#34;,&#10;    &#34;4254&#34;:&#34;shipJumpInvalidOriginError&#34;,&#10;    &#34;4255&#34;:&#34;shipJumpInvalidWaypointError&#34;,&#10;    &#34;4256&#34;:&#34;shipJumpOriginUnderConstructionError&#34;,&#10;    &#34;4257&#34;:&#34;shipMissingGasProcessorError&#34;,&#10;    &#34;4258&#34;:&#34;shipMissingGasSiphonsError&#34;,&#10;    &#34;4259&#34;:&#34;shipSiphonInvalidWaypointError&#34;,&#10;    &#34;4260&#34;:&#34;shipSiphonPermissionError&#34;,&#10;    &#34;4261&#34;:&#34;waypointNoYieldError&#34;,&#10;    &#34;4262&#34;:&#34;shipJumpDestinationUnderConstructionError&#34;,&#10;    &#34;4500&#34;:&#34;acceptContractNotAuthorizedError&#34;,&#10;    &#34;4501&#34;:&#34;acceptContractConflictError&#34;,&#10;    &#34;4502&#34;:&#34;fulfillContractDeliveryError&#34;,&#10;    &#34;4503&#34;:&#34;contractDeadlineError&#34;,&#10;    &#34;4504&#34;:&#34;contractFulfilledError&#34;,&#10;    &#34;4505&#34;:&#34;contractNotAcceptedError&#34;,&#10;    &#34;4506&#34;:&#34;contractNotAuthorizedError&#34;,&#10;    &#34;4508&#34;:&#34;shipDeliverTermsError&#34;,&#10;    &#34;4509&#34;:&#34;shipDeliverFulfilledError&#34;,&#10;    &#34;4510&#34;:&#34;shipDeliverInvalidLocationError&#34;,&#10;    &#34;4511&#34;:&#34;existingContractError&#34;,&#10;    &#34;4600&#34;:&#34;marketTradeInsufficientCreditsError&#34;,&#10;    &#34;4601&#34;:&#34;marketTradeNoPurchaseError&#34;,&#10;    &#34;4602&#34;:&#34;marketTradeNotSoldError&#34;,&#10;    &#34;4603&#34;:&#34;marketNotFoundError&#34;,&#10;    &#34;4604&#34;:&#34;marketTradeUnitLimitError&#34;,&#10;    &#34;4700&#34;:&#34;waypointNoFactionError&#34;,&#10;    &#34;4800&#34;:&#34;constructionMaterialNotRequired&#34;,&#10;    &#34;4801&#34;:&#34;constructionMaterialFulfilled&#34;,&#10;    &#34;4802&#34;:&#34;shipConstructionInvalidLocationError&#34;&#10;  },&#10;  bpmn_error_code: get or else(get value(error_codes, error_code), error_code),&#10;  bpmn_error_message: substring(extract(error.message, &#34;\&#34;message\&#34;:\&#34;(\w|\d|\s|\.|\-)+&#34;)[1], 12),&#10;  bpmnError: bpmnError(bpmn_error_code, bpmn_error_message)&#10;}.bpmnError&#10;else null" />
          <zeebe:header key="retryBackoff" value="PT1S" />
        </zeebe:taskHeaders>
        <zeebe:properties>
          <zeebe:property name="custom_error_handling" value="by_error_name" />
        </zeebe:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1rbrzk1</bpmn:incoming>
      <bpmn:outgoing>Flow_1c0sgv5</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_1yxwlor">
      <bpmn:incoming>Flow_1vvaa7w</bpmn:incoming>
      <bpmn:incoming>Flow_1c0sgv5</bpmn:incoming>
      <bpmn:outgoing>Flow_1yrnobg</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1yrnobg" sourceRef="Gateway_1yxwlor" targetRef="Activity_11abg7d" />
    <bpmn:sequenceFlow id="Flow_1c0sgv5" sourceRef="Activity_0h7elkt" targetRef="Gateway_1yxwlor" />
    <bpmn:boundaryEvent id="Event_1dpkdzw" name="Arrival time" attachedToRef="Activity_13ew35e">
      <bpmn:outgoing>Flow_1m54axz</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_054211v">
        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">=arrival_time</bpmn:timeDate>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:intermediateThrowEvent id="Event_161m1bj" name="To control center">
      <bpmn:incoming>Flow_169adpq</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_0mnb321" name="to-control-center" />
    </bpmn:intermediateThrowEvent>
    <bpmn:userTask id="Activity_13ew35e" name="Show arrival time">
      <bpmn:extensionElements>
        <zeebe:formDefinition formId="space-traders-navigation-result" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0emfgpz</bpmn:incoming>
      <bpmn:outgoing>Flow_1ilf3z5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0qlkjjz" sourceRef="Activity_11abg7d" targetRef="Gateway_18yl765" />
    <bpmn:parallelGateway id="Gateway_18yl765">
      <bpmn:incoming>Flow_0qlkjjz</bpmn:incoming>
      <bpmn:outgoing>Flow_169adpq</bpmn:outgoing>
      <bpmn:outgoing>Flow_0emfgpz</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_169adpq" sourceRef="Gateway_18yl765" targetRef="Event_161m1bj" />
    <bpmn:sequenceFlow id="Flow_0emfgpz" sourceRef="Gateway_18yl765" targetRef="Activity_13ew35e" />
    <bpmn:sequenceFlow id="Flow_0o49pe1" sourceRef="Activity_07ddhuo" targetRef="Gateway_00osnha" />
    <bpmn:parallelGateway id="Gateway_00osnha">
      <bpmn:incoming>Flow_0o49pe1</bpmn:incoming>
      <bpmn:outgoing>Flow_1cgbtgr</bpmn:outgoing>
      <bpmn:outgoing>Flow_0v38my7</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_1cgbtgr" sourceRef="Gateway_00osnha" targetRef="Event_1890vku" />
    <bpmn:sequenceFlow id="Flow_0v38my7" sourceRef="Gateway_00osnha" targetRef="Activity_01xfyud" />
    <bpmn:endEvent id="Event_1j5ilgt">
      <bpmn:incoming>Flow_1m54axz</bpmn:incoming>
      <bpmn:incoming>Flow_1ilf3z5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1m54axz" sourceRef="Event_1dpkdzw" targetRef="Event_1j5ilgt" />
    <bpmn:sequenceFlow id="Flow_1ilf3z5" sourceRef="Activity_13ew35e" targetRef="Event_1j5ilgt" />
    <bpmn:endEvent id="Event_181xdqy" name="Exit">
      <bpmn:incoming>Flow_0z5ll9l</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0z5ll9l" sourceRef="Gateway_072vi0y" targetRef="Event_181xdqy">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=action = "exit"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
  </bpmn:process>
  <bpmn:error id="Error_0sh41ww" name="shipNotInOrbitError" errorCode="shipNotInOrbitError" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="space-traders-manual-process">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="150" y="160" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="141" y="203" width="54" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0fwpgw6_di" bpmnElement="Gateway_0fwpgw6" isMarkerVisible="true">
        <dc:Bounds x="245" y="153" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="241" y="210" width="59" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ftjo04_di" bpmnElement="Gateway_1ftjo04" isMarkerVisible="true">
        <dc:Bounds x="525" y="153" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17hz0yz_di" bpmnElement="Activity_01ca0n6">
        <dc:Bounds x="640" y="138" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1rvv1di_di" bpmnElement="Activity_17syx4t">
        <dc:Bounds x="810" y="138" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1r88705_di" bpmnElement="Event_0x6pre2">
        <dc:Bounds x="572" y="272" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="549" y="315" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_072vi0y_di" bpmnElement="Gateway_072vi0y" isMarkerVisible="true">
        <dc:Bounds x="985" y="153" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="961" y="143" width="37" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0uacjpk_di" bpmnElement="Event_04901mf">
        <dc:Bounds x="1142" y="160" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1119" y="203" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ew6kqv_di" bpmnElement="Activity_11p7lac">
        <dc:Bounds x="1320" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1gt3oyh_di" bpmnElement="Gateway_1gt3oyh" isMarkerVisible="true">
        <dc:Bounds x="1495" y="265" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1480" y="322" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0qq2qhy_di" bpmnElement="Gateway_0qq2qhy" isMarkerVisible="true">
        <dc:Bounds x="1795" y="265" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ci628s_di" bpmnElement="Event_0kg68mo">
        <dc:Bounds x="1922" y="272" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1899" y="315" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_00wtkdu" bpmnElement="Event_1890vku">
        <dc:Bounds x="2022" y="422" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1999" y="465" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0o2ewuq_di" bpmnElement="Activity_01xfyud">
        <dc:Bounds x="1990" y="580" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1rpi4qn_di" bpmnElement="Activity_1rpi4qn" isExpanded="true">
        <dc:Bounds x="1150" y="450" width="330" height="150" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1gimx9o_di" bpmnElement="Event_1gimx9o">
        <dc:Bounds x="1170" y="502" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_12bu5um" bpmnElement="Activity_0cu0w4n">
        <dc:Bounds x="1260" y="480" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1yromdq_di" bpmnElement="Event_1yromdq">
        <dc:Bounds x="1422" y="502" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_12czeed_di" bpmnElement="Flow_12czeed">
        <di:waypoint x="1206" y="520" />
        <di:waypoint x="1260" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r1sg42_di" bpmnElement="Flow_1r1sg42">
        <di:waypoint x="1360" y="520" />
        <di:waypoint x="1422" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1yz95vs_di" bpmnElement="Activity_0fc9ms3">
        <dc:Bounds x="1150" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_133kh55_di" bpmnElement="Activity_0zwegbp">
        <dc:Bounds x="1490" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_14mr1mo_di" bpmnElement="Gateway_14mr1mo" isMarkerVisible="true">
        <dc:Bounds x="1665" y="795" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1648" y="852" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0tnhpt0_di" bpmnElement="Gateway_0tnhpt0" isMarkerVisible="true">
        <dc:Bounds x="1965" y="795" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1q2gtoo" bpmnElement="Event_08bycqp">
        <dc:Bounds x="2092" y="802" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2069" y="845" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1sqbe98_di" bpmnElement="Activity_0t3yckb">
        <dc:Bounds x="360" y="138" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1qagavj_di" bpmnElement="Activity_1wbkqrd">
        <dc:Bounds x="1150" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1pccgdu_di" bpmnElement="Activity_186utsd">
        <dc:Bounds x="1620" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1kxx7y3_di" bpmnElement="Activity_00bqf00">
        <dc:Bounds x="1550" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0gzu6pu_di" bpmnElement="Activity_07ddhuo">
        <dc:Bounds x="1720" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0hse2xi_di" bpmnElement="Activity_0k6jizm">
        <dc:Bounds x="1320" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_09alhg4_di" bpmnElement="Activity_12hofmi">
        <dc:Bounds x="1790" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0epm0ft_di" bpmnElement="Activity_11abg7d">
        <dc:Bounds x="1265" y="1030" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ltuhx7_di" bpmnElement="Activity_0h7elkt">
        <dc:Bounds x="1315" y="1170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1yxwlor_di" bpmnElement="Gateway_1yxwlor" isMarkerVisible="true">
        <dc:Bounds x="1150" y="1045" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1skwse2" bpmnElement="Event_161m1bj">
        <dc:Bounds x="1622" y="962" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1599" y="1005" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0k4ldrq_di" bpmnElement="Activity_13ew35e">
        <dc:Bounds x="1590" y="1120" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_16u0dks_di" bpmnElement="Gateway_18yl765">
        <dc:Bounds x="1495" y="1045" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1t4kmmb_di" bpmnElement="Gateway_00osnha">
        <dc:Bounds x="1895" y="505" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1j5ilgt_di" bpmnElement="Event_1j5ilgt">
        <dc:Bounds x="1782" y="1142" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_181xdqy_di" bpmnElement="Event_181xdqy">
        <dc:Bounds x="1142" y="42" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1151" y="85" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1l1dqse_di" bpmnElement="Event_1dpkdzw">
        <dc:Bounds x="1672" y="1182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1712" y="1213" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1r327nm_di" bpmnElement="Event_046ikhu">
        <dc:Bounds x="1347" y="1092" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1385.5" y="1123" width="77" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0duixn2_di" bpmnElement="Flow_0duixn2">
        <di:waypoint x="186" y="178" />
        <di:waypoint x="245" y="178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08qnenf_di" bpmnElement="Flow_08qnenf">
        <di:waypoint x="295" y="178" />
        <di:waypoint x="360" y="178" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="318" y="160" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y2t95m_di" bpmnElement="Flow_0y2t95m">
        <di:waypoint x="460" y="178" />
        <di:waypoint x="525" y="178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09l41ji_di" bpmnElement="Flow_09l41ji">
        <di:waypoint x="575" y="178" />
        <di:waypoint x="640" y="178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1n0faxx_di" bpmnElement="Flow_1n0faxx">
        <di:waypoint x="740" y="178" />
        <di:waypoint x="810" y="178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dejhzn_di" bpmnElement="Flow_1dejhzn">
        <di:waypoint x="270" y="153" />
        <di:waypoint x="270" y="100" />
        <di:waypoint x="550" y="100" />
        <di:waypoint x="550" y="153" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="320" y="73" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13dar2l_di" bpmnElement="Flow_13dar2l">
        <di:waypoint x="608" y="290" />
        <di:waypoint x="690" y="290" />
        <di:waypoint x="690" y="218" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lwwwm5_di" bpmnElement="Flow_0lwwwm5">
        <di:waypoint x="910" y="178" />
        <di:waypoint x="985" y="178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ppafdq_di" bpmnElement="Flow_0ppafdq">
        <di:waypoint x="1035" y="178" />
        <di:waypoint x="1142" y="178" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1071" y="160" width="35" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0izcf74_di" bpmnElement="Flow_0izcf74">
        <di:waypoint x="1010" y="203" />
        <di:waypoint x="1010" y="290" />
        <di:waypoint x="1150" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1053" y="263" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01uumfe_di" bpmnElement="Flow_01uumfe">
        <di:waypoint x="1250" y="290" />
        <di:waypoint x="1320" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ipqg2i_di" bpmnElement="Flow_1ipqg2i">
        <di:waypoint x="1420" y="290" />
        <di:waypoint x="1495" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15zoeyh_di" bpmnElement="Flow_15zoeyh">
        <di:waypoint x="1545" y="290" />
        <di:waypoint x="1620" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1574" y="272" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ji2dvi_di" bpmnElement="Flow_0ji2dvi">
        <di:waypoint x="1720" y="290" />
        <di:waypoint x="1795" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ob7h1c_di" bpmnElement="Flow_1ob7h1c">
        <di:waypoint x="1845" y="290" />
        <di:waypoint x="1922" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11qz4m5_di" bpmnElement="Flow_11qz4m5">
        <di:waypoint x="1520" y="265" />
        <di:waypoint x="1520" y="200" />
        <di:waypoint x="1820" y="200" />
        <di:waypoint x="1820" y="265" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1576" y="182" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19fa0md_di" bpmnElement="Flow_19fa0md">
        <di:waypoint x="1010" y="203" />
        <di:waypoint x="1010" y="530" />
        <di:waypoint x="1150" y="530" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1051" y="503" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1s2ar3d_di" bpmnElement="Flow_1s2ar3d">
        <di:waypoint x="1650" y="530" />
        <di:waypoint x="1720" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17jrfyz_di" bpmnElement="Flow_17jrfyz">
        <di:waypoint x="1480" y="530" />
        <di:waypoint x="1550" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bgi9br_di" bpmnElement="Flow_1bgi9br">
        <di:waypoint x="1010" y="203" />
        <di:waypoint x="1010" y="820" />
        <di:waypoint x="1150" y="820" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1049" y="793" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1poktqu_di" bpmnElement="Flow_1poktqu">
        <di:waypoint x="1250" y="820" />
        <di:waypoint x="1320" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mu2zm2_di" bpmnElement="Flow_1mu2zm2">
        <di:waypoint x="1420" y="820" />
        <di:waypoint x="1490" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cjie5m_di" bpmnElement="Flow_0cjie5m">
        <di:waypoint x="1590" y="820" />
        <di:waypoint x="1665" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19l8jfg_di" bpmnElement="Flow_19l8jfg">
        <di:waypoint x="1715" y="820" />
        <di:waypoint x="1790" y="820" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1743" y="802" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10mbx4n_di" bpmnElement="Flow_10mbx4n">
        <di:waypoint x="1890" y="820" />
        <di:waypoint x="1965" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ijgbjx_di" bpmnElement="Flow_0ijgbjx">
        <di:waypoint x="2015" y="820" />
        <di:waypoint x="2092" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1581vz1_di" bpmnElement="Flow_1581vz1">
        <di:waypoint x="1690" y="795" />
        <di:waypoint x="1690" y="740" />
        <di:waypoint x="1990" y="740" />
        <di:waypoint x="1990" y="795" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1745" y="722" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vvaa7w_di" bpmnElement="Flow_1vvaa7w">
        <di:waypoint x="1010" y="203" />
        <di:waypoint x="1010" y="1070" />
        <di:waypoint x="1150" y="1070" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1048" y="1043" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rbrzk1_di" bpmnElement="Flow_1rbrzk1">
        <di:waypoint x="1365" y="1128" />
        <di:waypoint x="1365" y="1170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yrnobg_di" bpmnElement="Flow_1yrnobg">
        <di:waypoint x="1200" y="1070" />
        <di:waypoint x="1265" y="1070" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1c0sgv5_di" bpmnElement="Flow_1c0sgv5">
        <di:waypoint x="1315" y="1210" />
        <di:waypoint x="1175" y="1210" />
        <di:waypoint x="1175" y="1095" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qlkjjz_di" bpmnElement="Flow_0qlkjjz">
        <di:waypoint x="1365" y="1070" />
        <di:waypoint x="1495" y="1070" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_169adpq_di" bpmnElement="Flow_169adpq">
        <di:waypoint x="1520" y="1045" />
        <di:waypoint x="1520" y="980" />
        <di:waypoint x="1622" y="980" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0emfgpz_di" bpmnElement="Flow_0emfgpz">
        <di:waypoint x="1520" y="1095" />
        <di:waypoint x="1520" y="1160" />
        <di:waypoint x="1590" y="1160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0o49pe1_di" bpmnElement="Flow_0o49pe1">
        <di:waypoint x="1820" y="530" />
        <di:waypoint x="1895" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cgbtgr_di" bpmnElement="Flow_1cgbtgr">
        <di:waypoint x="1920" y="505" />
        <di:waypoint x="1920" y="440" />
        <di:waypoint x="2022" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0v38my7_di" bpmnElement="Flow_0v38my7">
        <di:waypoint x="1920" y="555" />
        <di:waypoint x="1920" y="620" />
        <di:waypoint x="1990" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m54axz_di" bpmnElement="Flow_1m54axz">
        <di:waypoint x="1690" y="1218" />
        <di:waypoint x="1690" y="1270" />
        <di:waypoint x="1800" y="1270" />
        <di:waypoint x="1800" y="1178" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ilf3z5_di" bpmnElement="Flow_1ilf3z5">
        <di:waypoint x="1690" y="1160" />
        <di:waypoint x="1782" y="1160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z5ll9l_di" bpmnElement="Flow_0z5ll9l">
        <di:waypoint x="1010" y="153" />
        <di:waypoint x="1010" y="60" />
        <di:waypoint x="1142" y="60" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
